plugins {
        id 'application'
        id 'jacoco'
        id "com.diffplug.spotless" version "6.19.0"
}

application {
    mainClass = 'eirb.pg203.Client'
}

repositories {
        mavenCentral()
}

dependencies {
        testImplementation(platform('org.junit:junit-bom:5.11.2'))
        testImplementation('org.junit.jupiter:junit-jupiter')
        testRuntimeOnly('org.junit.platform:junit-platform-launcher')
}

test {
        useJUnitPlatform()
        testLogging {
                events "passed", "skipped", "failed"
        }
}

jar {
        manifest {
                attributes 'Main-Class': application.mainClass
        }
}

// to exec : ./gradlew spotlessApply
// to test : ./gradlew spotlessCheck
spotless {
    java {
        target 'src/**/*.java'              
        googleJavaFormat()                                             
    }
}